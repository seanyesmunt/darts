{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Cookies from \"js-cookie\";\nimport { getUser } from \"../api/firebase\";\nvar USER_ID = \"user_id\";\nexport function useGetUser() {\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      userID = _React$useState2[0],\n      setUserID = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      user = _React$useState4[0],\n      setUser = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      error = _React$useState6[0],\n      setError = _React$useState6[1];\n\n  React.useEffect(function () {\n    var userIDCookie = Cookies.get(USER_ID);\n\n    if (userIDCookie) {\n      setUserID(userIDCookie);\n    } else {\n      var newID = uuidv4();\n      Cookies.set(USER_ID, newID, {\n        expires: 365\n      });\n      setUserID(newID);\n    }\n  }, []);\n  React.useEffect(function () {\n    if (userID) {\n      getUser(userID).then(function (userFromDB) {\n        setUser(userFromDB);\n      })[\"catch\"](function (error) {\n        setError(error);\n      });\n    }\n  }, [userID]);\n\n  if (error) {\n    console.error(error);\n  }\n\n  return [user, error];\n}\nexport function useGetUserID() {\n  var _useGetUser = useGetUser(),\n      _useGetUser2 = _slicedToArray(_useGetUser, 1),\n      user = _useGetUser2[0];\n\n  return user && user.id;\n}","map":null,"metadata":{},"sourceType":"module"}