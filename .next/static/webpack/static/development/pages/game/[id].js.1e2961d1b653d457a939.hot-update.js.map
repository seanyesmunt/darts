{"version":3,"file":"static/webpack/static/development/pages/game/[id].js.1e2961d1b653d457a939.hot-update.js","sources":["webpack:///./pages/game/.tsx"],"sourcesContent":["import React from \"react\";\nimport { useRouter } from \"next/router\";\nimport Game from \"../../component/game\";\nimport Page from \"../../component/page\";\nimport { useGetGame } from \"../../effects/game\";\nimport { useGetUserID } from \"../../effects/user\";\nimport { addPlayerToGame } from \"../../api/firebase\";\n\ninterface Props {\n  game?: Game;\n}\n\nexport default function GamePage(props: Props) {\n  const [name, setName] = React.useState<string>(\"\");\n  const router = useRouter();\n  const { id } = router.query;\n  const [game] = useGetGame(id);\n  const userID = useGetUserID();\n  const creatorID = game && game.creator_id;\n  const players = game && game.players;\n  const gameID = game && game.id;\n  const isInGame =\n    players &&\n    players.some(player => {\n      return player.id === userID;\n    });\n\n  function handleJoinGame() {\n    if (gameID && !isInGame && creatorID !== userID) {\n      addPlayerToGame(gameID, userID, name);\n    }\n  }\n\n  return (\n    <Page>\n      <main className=\"chalk flex flex-1 items-center justify-center text-white\">\n        {isInGame && <Game {...game} />}\n\n        {!isInGame && (\n          <form onSubmit={handleJoinGame}>\n            <label className=\"text-gray-200 \">Enter your name</label>\n            <input\n              autoFocus\n              autoComplete=\"off\"\n              className=\"block shadow appearance-none border h-40 mt-3 text-6xl rounded py-2 px-3 text-gray-800 placeholder-gray-400 leading-tight focus:outline-none focus:shadow-outline\"\n              id=\"username\"\n              type=\"text\"\n              placeholder=\"Ricky Bobby\"\n              value={name}\n              onChange={e => setName(e.target.value)}\n            />\n            <div className=\"mt-5\">\n              <button\n                type=\"submit\"\n                className=\"mr-5 bg-white hover:bg-gray-200 text-blue-900 font-bold py-2 px-4 border-b-4 border-gray-300 hover:border-gray-400 rounded\"\n              >\n                Join Game\n              </button>\n            </div>\n          </form>\n        )}\n      </main>\n    </Page>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AACA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;;;;A","sourceRoot":""}