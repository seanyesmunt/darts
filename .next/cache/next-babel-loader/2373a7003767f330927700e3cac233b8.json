{"ast":null,"code":"import React from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Cookies from \"js-cookie\";\nimport { getUser } from \"../api/firebase\";\nconst USER_ID = \"user_id\";\nexport function useGetUser() {\n  const [userID, setUserID] = React.useState();\n  const [user, setUser] = React.useState();\n  const [error, setError] = React.useState();\n  React.useEffect(() => {\n    const userIDCookie = Cookies.get(USER_ID);\n\n    if (userIDCookie) {\n      setUserID(userIDCookie);\n    } else {\n      const newID = uuidv4();\n      Cookies.set(USER_ID, newID, {\n        expires: 365\n      });\n      setUserID(newID);\n    }\n  }, []);\n  React.useEffect(() => {\n    if (userID) {\n      getUser(userID).then(userFromDB => {\n        setUser(userFromDB);\n      }).catch(error => {\n        setError(error);\n      });\n    }\n  }, [userID]);\n\n  if (error) {\n    console.error(error);\n  }\n\n  return [user, error];\n}\nexport function useGetUserID() {\n  const [user] = useGetUser();\n  return user && user.id;\n}","map":null,"metadata":{},"sourceType":"module"}