{"ast":null,"code":"var __jsx = React.createElement;\nimport React from \"react\";\nimport { useRouter } from \"next/router\";\nimport Game from \"../../component/game\";\nimport Page from \"../../component/page\";\nimport { useGetGame } from \"../../effects/game\";\nimport { useGetUserID } from \"../../effects/user\";\nimport { addPlayerToGame } from \"../../api/firebase\";\nexport default function GamePage(props) {\n  const [name, setName] = React.useState(\"\");\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n  const [game] = useGetGame(id);\n  const userID = useGetUserID();\n  const creatorID = game && game.creator_id;\n  const players = game && game.players;\n  const gameID = game && game.id;\n  const isInGame = players && players.some(player => {\n    return player.id === userID;\n  });\n\n  function handleJoinGame() {\n    if (gameID && !isInGame && creatorID !== userID) {\n      addPlayerToGame(gameID, userID, name);\n    }\n  }\n\n  return __jsx(Page, null, __jsx(\"main\", {\n    className: \"flex flex-1 items-center justify-center text-white\"\n  }, isInGame && __jsx(Game, game), !isInGame && __jsx(\"form\", {\n    onSubmit: handleJoinGame\n  }, __jsx(\"label\", {\n    className: \"text-gray-200 \"\n  }, \"Enter your name\"), __jsx(\"input\", {\n    autoFocus: true,\n    autoComplete: \"off\",\n    className: \"block w-full shadow appearance-none border h-24 md:h-40 text-4xl rounded py-2 px-3 text-gray-700 placeholder-gray-400 leading-tight focus:outline-none focus:shadow-outline\",\n    id: \"username\",\n    type: \"text\",\n    placeholder: \"Ricky Bobby\",\n    value: name,\n    onChange: e => setName(e.target.value)\n  }), __jsx(\"div\", {\n    className: \"mt-5\"\n  }, __jsx(\"button\", {\n    type: \"submit\",\n    className: \"mt-4 w-full md:w-auto text-2xl bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-lg shadow\"\n  }, \"Join Game\")))));\n}","map":null,"metadata":{},"sourceType":"module"}